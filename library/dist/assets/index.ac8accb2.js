const f=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}};f();let c=[];const p=document.createElement("div");(function(){localStorage.getItem("library")!=null&&(c=JSON.parse(localStorage.getItem("library"))),c&&m()})();window.showModal=function(){const t=document.createElement("div"),n=document.createElement("input"),r=document.createElement("input"),e=document.createElement("input"),o=document.createElement("div"),a=document.createElement("input"),s=document.createElement("span"),l=document.createElement("button"),d=document.createElement("button");a.type="checkbox",s.textContent="Have you read the book?",n.placeholder="Title",r.placeholder="Author",e.placeholder="No. of pages",l.textContent="X",d.textContent="Add book",p.classList.add("library__books-modal"),t.classList.add("library__books-overlay"),o.classList.add("library__books-modal__read-wrapper"),l.classList.add("library__books-modal__close"),d.classList.add("button","button--alt"),e.addEventListener("input",()=>{/^\d+$/.test(e.value)||(e.value="",e.placeholder="Please enter only numbers")}),l.addEventListener("click",()=>{p.innerHTML="",document.body.removeChild(p),document.body.removeChild(t)}),d.addEventListener("click",()=>{if(n.value&&r.value&&e.value)g(n.value,r.value,e.value,a.checked);else{alert("Complete all fields");return}p.innerHTML="",document.body.removeChild(p),document.body.removeChild(t)}),o.append(s,a),p.append(n,r,e,o,l,d),document.body.appendChild(p),document.body.appendChild(t)};function y(i){const t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("input"),e=document.createElement("input"),o=document.createElement("input"),a=document.createElement("div"),s=document.createElement("input"),l=document.createElement("span"),d=document.createElement("button"),u=document.createElement("button");s.type="checkbox",s.checked=i.read,l.textContent="Have you read the book?",r.placeholder=i.title,e.placeholder=i.author,o.placeholder=i.noOfPages,r.disabled=!0,e.disabled=!0,o.disabled=!0,d.textContent="X",u.textContent="Remove book",t.classList.add("library__books-modal"),n.classList.add("library__books-overlay"),a.classList.add("library__books-modal__read-wrapper"),d.classList.add("library__books-modal__close"),u.classList.add("button","button--alt"),d.addEventListener("click",()=>{t.innerHTML="",document.body.removeChild(t),document.body.removeChild(n)}),u.addEventListener("click",()=>{c=c.filter(_=>_!==i),b(),console.log(c),t.innerHTML="",document.body.removeChild(t),document.body.removeChild(n)}),a.append(l,s),t.append(r,e,o,a,d,u),document.body.appendChild(t),document.body.appendChild(n)}function x(i,t,n,r){this.title=i,this.author=t,this.noOfPages=n,this.read=r}function g(i,t,n,r){c.push(new x(i,t,n,r)),b()}function b(){localStorage.setItem("library",JSON.stringify(c)),m()}function m(){const i=document.getElementById("libraryBody");i.innerHTML="",c.forEach(t=>{const n=document.createElement("li"),r=document.createElement("div"),e=document.createElement("span"),o=document.createElement("button"),a=document.createElement("div"),s=document.createElement("span"),l=document.createElement("span");n.classList.add("library__books-item--all"),r.classList.add("library__books-cover--all"),o.classList.add("library__books-badge--all"),a.classList.add("library__books__details"),s.classList.add("library__books__details__title"),l.classList.add("library__books__details__author"),e.innerText=t.title.slice(0,1),s.innerText=t.title,l.innerText=t.author,t.read?o.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-book-fill" viewBox="0 0 16 16">
  <path d="M8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
</svg>`:o.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
 viewBox="0 0 16 16">
   <path
 d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
</svg>`,r.addEventListener("click",()=>{y(t)}),o.addEventListener("click",()=>{t.read=!t.read,t.read?o.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-book-fill" viewBox="0 0 16 16">
  <path d="M8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
</svg>`:o.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
 viewBox="0 0 16 16">
   <path
 d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
</svg>`,b()}),r.append(e),a.append(s,l),n.append(r,o,a),i.append(n)})}
